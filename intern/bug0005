$State: Closed$
$BugAuthor: mr$

Hi Mark,

der folgende OCL-3Zeiler wird von USE mit einem INTERAL ERROR quittiert. Ich
gehe
davon aus, dass der Fehler im iterate-Ausdruck steckt...


?Model.allInstances->collect(a|a.ownedElement)->flatten->
select(el:ModelElement | el.oclIsKindOf(Class))->iterate(a:ModelElement ;
acc:Bag(Class) = oclEmpty(Bag(Class)) | acc->includes(a.oclAsType(Class)))


Ich habe dann statt des iterates ein collect verwendet und den Ausdruck etwas
erweitert
(funktioniert). Wird allerdings '??'/verbose angegeben, so kommt wieder ein
INTERNAL ERROR
(nullpointer).


?Model.allInstances->collect(a|a.ownedElement)->flatten->
select(el:ModelElement | el.oclIsKindOf(Class))->collect(a:ModelElement|a.oclAs
Type(Class))->collect(a|a.associationEnd)->flatten->collect(a|a.association_)->
asSet->collect(a|a.namespace)


Gruss,
Ralf

PS: Ist flatten in OCL definiert?


Program version: 1.1.0
Project version: use 0.123 Tue, 26 Sep 2000 22:38:50 +0200 mr
Stack trace: java.lang.NullPointerException
        at org.tzi.use.gui.views.ExprEvalBrowser.createNodes(Compiled Code)
        at org.tzi.use.gui.views.ExprEvalBrowser.<init>
(ExprEvalBrowser.java:45)
        at org.tzi.use.gui.views.ExprEvalBrowser.create(ExprEvalBrowser.java:66
)
        at org.tzi.use.main.Shell.cmdQuery(Compiled Code)
        at org.tzi.use.main.Shell.processLine(Compiled Code)
        at org.tzi.use.main.Shell.processLineSafely(Compiled Code)
        at org.tzi.use.main.Shell.run(Compiled Code)
        at java.lang.Thread.run(Thread.java:485)


